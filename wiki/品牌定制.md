# å“ç‰Œå®šåˆ¶

Auth9 æä¾›å…¨é¢çš„å“ç‰Œå®šåˆ¶åŠŸèƒ½ï¼Œè®©æ‚¨å¯ä»¥è‡ªå®šä¹‰ç§Ÿæˆ·çš„è§†è§‰å¤–è§‚ï¼ŒåŒ…æ‹¬ Logoã€é¢œè‰²ã€ä¸»é¢˜ç­‰ï¼Œæ‰“é€ ä¸“å±çš„å“ç‰Œä½“éªŒã€‚

## åŠŸèƒ½æ¦‚è¿°

- âœ… è‡ªå®šä¹‰ç§Ÿæˆ· Logo
- âœ… è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²
- âœ… è‡ªå®šä¹‰ Favicon
- âœ… è‡ªå®šä¹‰ç™»å½•é¡µé¢å¤–è§‚
- âœ… è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿æ ·å¼
- âœ… ç§Ÿæˆ·çº§åˆ«ç‹¬ç«‹é…ç½®
- âœ… å®æ—¶é¢„è§ˆæ•ˆæœ

## å“ç‰Œå…ƒç´ 

### 1. Logo é…ç½®

æ¯ä¸ªç§Ÿæˆ·å¯ä»¥é…ç½®ä»¥ä¸‹ Logoï¼š

| Logo ç±»å‹ | å°ºå¯¸å»ºè®® | ä½¿ç”¨åœºæ™¯ |
|----------|---------|---------|
| **ä¸» Logo** | 200x60 px | Portal é¡¶éƒ¨å¯¼èˆªæ  |
| **å° Logo** | 40x40 px | ç§»åŠ¨ç«¯ã€Favicon |
| **ç™»å½•é¡µ Logo** | 300x100 px | Keycloak ç™»å½•é¡µé¢ |
| **é‚®ä»¶ Logo** | 200x60 px | é‚®ä»¶å¤´éƒ¨ |

**æ”¯æŒæ ¼å¼**: PNG, SVG, JPEG, WebP

### 2. é¢œè‰²ä¸»é¢˜

å¯ä»¥è‡ªå®šä¹‰çš„é¢œè‰²åŒ…æ‹¬ï¼š

| é¢œè‰²åç§° | ç”¨é€” | é»˜è®¤å€¼ |
|---------|------|-------|
| **Primary Color** | ä¸»è¦æŒ‰é’®ã€é“¾æ¥ã€é«˜äº® | `#007AFF` |
| **Secondary Color** | æ¬¡è¦æŒ‰é’®ã€è¾…åŠ©å…ƒç´  | `#5856D6` |
| **Accent Color** | å¼ºè°ƒè‰²ã€æç¤º | `#FF9500` |
| **Background Color** | é¡µé¢èƒŒæ™¯ | `#FFFFFF` |
| **Text Color** | ä¸»è¦æ–‡å­— | `#1C1C1E` |
| **Border Color** | è¾¹æ¡†ã€åˆ†éš”çº¿ | `#E5E5EA` |

### 3. å­—ä½“è®¾ç½®

æ”¯æŒè‡ªå®šä¹‰å­—ä½“æ—ï¼š

```json
{
  "font_family": "Inter, -apple-system, BlinkMacSystemFont, sans-serif",
  "heading_font": "SF Pro Display, Inter, sans-serif"
}
```

**å†…ç½®å­—ä½“é€‰é¡¹**:
- Inter (é»˜è®¤)
- SF Pro (è‹¹æœé£æ ¼)
- Roboto (Material Design)
- æ€æºé»‘ä½“ (Noto Sans CJK)

## é…ç½®å“ç‰Œ

### é€šè¿‡ç®¡ç†ç•Œé¢é…ç½®

1. ç™»å½• Auth9 Portal
2. å¯¼èˆªåˆ° **Settings** > **Branding**
3. é€‰æ‹©ç›®æ ‡ç§Ÿæˆ·
4. é…ç½®å“ç‰Œå…ƒç´ ï¼š

#### Logo ä¸Šä¼ 

1. åœ¨ "Logos" åŒºåŸŸç‚¹å‡»å¯¹åº”çš„ä¸Šä¼ æŒ‰é’®
2. é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆæœ€å¤§ 2MBï¼‰
3. ç³»ç»Ÿè‡ªåŠ¨è£å‰ªå’Œä¼˜åŒ–
4. ç‚¹å‡» **Save** ä¿å­˜

**æç¤º**: å»ºè®®ä½¿ç”¨é€æ˜èƒŒæ™¯çš„ PNG æˆ– SVG æ ¼å¼

#### é¢œè‰²ä¸»é¢˜

1. åœ¨ "Colors" åŒºåŸŸç‚¹å‡»é¢œè‰²é€‰æ‹©å™¨
2. ä½¿ç”¨è‰²è½®æˆ–è¾“å…¥ HEX é¢œè‰²ç 
3. æŸ¥çœ‹å³ä¾§å®æ—¶é¢„è§ˆ
4. ç‚¹å‡» **Apply Theme** åº”ç”¨

**é¢„è®¾ä¸»é¢˜**:
- ğŸ’™ **Auth9 Blue** (é»˜è®¤)
- ğŸŸ£ **Purple Dream**
- ğŸŸ¢ **Nature Green**
- ğŸ”´ **Passionate Red**
- âš« **Dark Mode**

#### è‡ªå®šä¹‰ CSS

é«˜çº§ç”¨æˆ·å¯ä»¥æ·»åŠ è‡ªå®šä¹‰ CSSï¼š

```css
/* è‡ªå®šä¹‰æŒ‰é’®æ ·å¼ */
.btn-primary {
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
}

/* è‡ªå®šä¹‰å¡ç‰‡æ ·å¼ */
.card {
  backdrop-filter: blur(20px);
  background: rgba(255, 255, 255, 0.8);
}
```

### é€šè¿‡ REST API é…ç½®

#### è·å–å“ç‰Œé…ç½®

```bash
curl https://api.auth9.yourdomain.com/api/v1/tenants/{tenant_id}/branding \
  -H "Authorization: Bearer <token>"
```

å“åº”ï¼š

```json
{
  "data": {
    "tenant_id": "tenant-uuid",
    "logo_url": "https://cdn.auth9.com/logos/tenant-uuid/logo.png",
    "small_logo_url": "https://cdn.auth9.com/logos/tenant-uuid/logo-sm.png",
    "favicon_url": "https://cdn.auth9.com/logos/tenant-uuid/favicon.ico",
    "primary_color": "#007AFF",
    "secondary_color": "#5856D6",
    "accent_color": "#FF9500",
    "background_color": "#FFFFFF",
    "text_color": "#1C1C1E",
    "border_color": "#E5E5EA",
    "font_family": "Inter, sans-serif",
    "custom_css": "",
    "updated_at": "2024-01-01T00:00:00Z"
  }
}
```

#### æ›´æ–°å“ç‰Œé…ç½®

```bash
curl -X PUT https://api.auth9.yourdomain.com/api/v1/tenants/{tenant_id}/branding \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "primary_color": "#007AFF",
    "secondary_color": "#5856D6",
    "logo_url": "https://example.com/logo.png",
    "font_family": "Inter, sans-serif"
  }'
```

#### ä¸Šä¼  Logo

```bash
curl -X POST https://api.auth9.yourdomain.com/api/v1/tenants/{tenant_id}/branding/logo \
  -H "Authorization: Bearer <token>" \
  -F "logo=@/path/to/logo.png" \
  -F "type=main"
```

æ”¯æŒçš„ `type` å‚æ•°ï¼š
- `main`: ä¸» Logo
- `small`: å° Logo
- `favicon`: Favicon

#### é‡ç½®ä¸ºé»˜è®¤ä¸»é¢˜

```bash
curl -X POST https://api.auth9.yourdomain.com/api/v1/tenants/{tenant_id}/branding/reset \
  -H "Authorization: Bearer <token>"
```

## å“ç‰Œåº”ç”¨èŒƒå›´

### 1. Auth9 Portal (ç®¡ç†ç•Œé¢)

å“ç‰Œé…ç½®ä¼šè‡ªåŠ¨åº”ç”¨åˆ°ï¼š

- é¡¶éƒ¨å¯¼èˆªæ  Logo
- ä¾§è¾¹æ èƒŒæ™¯è‰²
- æŒ‰é’®å’Œé“¾æ¥é¢œè‰²
- å¡ç‰‡å’Œé¢æ¿æ ·å¼
- åŠ è½½åŠ¨ç”»é¢œè‰²

### 2. Keycloak ç™»å½•é¡µé¢

é€šè¿‡ auth9-keycloak-theme ä¸»é¢˜ï¼Œå“ç‰Œé…ç½®ä¼šåº”ç”¨åˆ°ï¼š

- ç™»å½•é¡µé¢ Logo
- æŒ‰é’®é¢œè‰²
- èƒŒæ™¯æ ·å¼
- è¡¨å•å…ƒç´ æ ·å¼

è¯¦è§ï¼š[Keycloak ä¸»é¢˜å®šåˆ¶](Keycloakä¸»é¢˜å®šåˆ¶.md)

### 3. é‚®ä»¶æ¨¡æ¿

å“ç‰Œé…ç½®ä¼šåº”ç”¨åˆ°æ‰€æœ‰ç³»ç»Ÿé‚®ä»¶ï¼š

- é‚®ä»¶å¤´éƒ¨ Logo
- æŒ‰é’®é¢œè‰²
- é“¾æ¥é¢œè‰²
- é¡µè„šæ ·å¼

è¯¦è§ï¼š[é‚®ä»¶æ¨¡æ¿](é‚®ä»¶æ¨¡æ¿.md)

### 4. ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆæœªæ¥æ”¯æŒï¼‰

è®¡åˆ’æ”¯æŒçš„ç§»åŠ¨ç«¯å“ç‰Œå…ƒç´ ï¼š

- å¯åŠ¨é¡µ Logo
- åº”ç”¨å›¾æ ‡
- ä¸»é¢˜é¢œè‰²
- å¯¼èˆªæ æ ·å¼

## å“ç‰Œèµ„æºç®¡ç†

### èµ„æºå­˜å‚¨

å“ç‰Œèµ„æºï¼ˆLogoã€å›¾ç‰‡ç­‰ï¼‰å­˜å‚¨é€‰é¡¹ï¼š

1. **æœ¬åœ°å­˜å‚¨** (é»˜è®¤)
   - å­˜å‚¨åœ¨æœåŠ¡å™¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
   - é€šè¿‡ auth9-core æä¾›é™æ€æ–‡ä»¶æœåŠ¡
   - é€‚åˆå°è§„æ¨¡éƒ¨ç½²

2. **å¯¹è±¡å­˜å‚¨**ï¼ˆæ¨èï¼‰
   - æ”¯æŒ AWS S3ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COS
   - CDN åŠ é€Ÿè®¿é—®
   - é€‚åˆç”Ÿäº§ç¯å¢ƒ

é…ç½®ç¤ºä¾‹ï¼š

```yaml
# config.yaml
storage:
  type: "s3"  # æˆ– "oss", "cos", "local"
  bucket: "auth9-assets"
  region: "us-west-2"
  cdn_domain: "cdn.auth9.yourdomain.com"
```

### èµ„æºä¼˜åŒ–

ç³»ç»Ÿä¼šè‡ªåŠ¨ä¼˜åŒ–ä¸Šä¼ çš„å“ç‰Œèµ„æºï¼š

- âœ… å›¾ç‰‡å‹ç¼©ï¼ˆä¿æŒè´¨é‡ï¼‰
- âœ… ç”Ÿæˆå¤šç§å°ºå¯¸ï¼ˆå“åº”å¼ï¼‰
- âœ… è½¬æ¢ä¸º WebP æ ¼å¼
- âœ… æ·»åŠ ç¼“å­˜å¤´ï¼ˆ1å¹´ï¼‰

### èµ„æºæ¸…ç†

åˆ é™¤ç§Ÿæˆ·æ—¶ï¼Œç›¸å…³çš„å“ç‰Œèµ„æºä¼šè¢«è‡ªåŠ¨æ¸…ç†ã€‚

ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¸…ç†æœªä½¿ç”¨çš„èµ„æºï¼š

```bash
curl -X POST https://api.auth9.yourdomain.com/api/v1/admin/branding/cleanup \
  -H "Authorization: Bearer <admin-token>"
```

## è®¾è®¡æŒ‡å—

### Logo è®¾è®¡å»ºè®®

1. **ç®€æ´æ˜äº†**
   - é¿å…è¿‡äºå¤æ‚çš„å›¾å½¢
   - åœ¨å°å°ºå¯¸ä¸‹ä¹Ÿèƒ½æ¸…æ™°è¯†åˆ«

2. **é€‚é…åœºæ™¯**
   - æä¾›æ·±è‰²å’Œæµ…è‰²èƒŒæ™¯çš„ç‰ˆæœ¬
   - ä½¿ç”¨çŸ¢é‡æ ¼å¼ï¼ˆSVGï¼‰ç¡®ä¿ç¼©æ”¾ä¸å¤±çœŸ

3. **å“ç‰Œä¸€è‡´æ€§**
   - ä¸å…¬å¸æ•´ä½“å“ç‰Œä¿æŒä¸€è‡´
   - ä½¿ç”¨ç›¸åŒçš„é¢œè‰²å’Œå­—ä½“

### é¢œè‰²é€‰æ‹©å»ºè®®

1. **å¯¹æ¯”åº¦**
   - ç¡®ä¿æ–‡å­—å’ŒèƒŒæ™¯æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦ï¼ˆWCAG AA æ ‡å‡†ï¼‰
   - ä½¿ç”¨å·¥å…·æ£€æŸ¥ï¼š[WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)

2. **è‰²å½©å¿ƒç†å­¦**
   - è“è‰²ï¼šä¿¡ä»»ã€ä¸“ä¸šï¼ˆé‡‘èã€ç§‘æŠ€ï¼‰
   - ç»¿è‰²ï¼šæˆé•¿ã€å®‰å…¨ï¼ˆç¯ä¿ã€å¥åº·ï¼‰
   - çº¢è‰²ï¼šæ¿€æƒ…ã€ç´§è¿«ï¼ˆå¨±ä¹ã€é”€å”®ï¼‰
   - ç´«è‰²ï¼šåˆ›æ–°ã€å¥¢åï¼ˆè‰ºæœ¯ã€é«˜ç«¯ï¼‰

3. **æ— éšœç¢**
   - ä¸ä»…ä¾é é¢œè‰²ä¼ è¾¾ä¿¡æ¯
   - è€ƒè™‘è‰²ç›²ç”¨æˆ·ï¼ˆçº¢ç»¿è‰²ç›²æœ€å¸¸è§ï¼‰

### å“åº”å¼è®¾è®¡

å“ç‰Œå…ƒç´ ä¼šè‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼š

| å±å¹•å°ºå¯¸ | Logo å°ºå¯¸ | å­—ä½“å¤§å° |
|---------|----------|---------|
| æ‰‹æœº (< 768px) | å° Logo | 14px |
| å¹³æ¿ (768-1024px) | ä¸­ç­‰ Logo | 16px |
| æ¡Œé¢ (> 1024px) | å®Œæ•´ Logo | 16px |

## é«˜çº§å®šåˆ¶

### è‡ªå®šä¹‰åŸŸå

ä¸ºç§Ÿæˆ·é…ç½®ç‹¬ç«‹åŸŸåï¼š

```json
{
  "custom_domain": "auth.mycompany.com",
  "ssl_enabled": true
}
```

éœ€è¦é…ç½® DNS CNAME è®°å½•æŒ‡å‘ Auth9 æœåŠ¡å™¨ã€‚

### ç™½æ ‡æ¨¡å¼

å®Œå…¨éšè— Auth9 å“ç‰Œï¼Œä»…æ˜¾ç¤ºç§Ÿæˆ·å“ç‰Œï¼š

```json
{
  "white_label": true,
  "hide_powered_by": true,
  "custom_footer": "Â© 2024 My Company. All rights reserved."
}
```

**æ³¨æ„**: ç™½æ ‡æ¨¡å¼å¯èƒ½éœ€è¦ä¼ä¸šç‰ˆæˆæƒã€‚

### å¤šè¯­è¨€æ”¯æŒ

å“ç‰Œé…ç½®æ”¯æŒå¤šè¯­è¨€æ–‡æœ¬ï¼š

```json
{
  "company_name": {
    "en": "My Company",
    "zh": "æˆ‘çš„å…¬å¸",
    "ja": "ç§ã®ä¼šç¤¾"
  },
  "tagline": {
    "en": "Your trusted partner",
    "zh": "æ‚¨å€¼å¾—ä¿¡èµ–çš„ä¼™ä¼´"
  }
}
```

## å¸¸è§é—®é¢˜

### Logo æ˜¾ç¤ºæ¨¡ç³Šï¼Ÿ

1. ä½¿ç”¨æ›´é«˜åˆ†è¾¨ç‡çš„å›¾ç‰‡ï¼ˆ2x æˆ– 3xï¼‰
2. ä½¿ç”¨ SVG çŸ¢é‡æ ¼å¼
3. æ£€æŸ¥å›¾ç‰‡å‹ç¼©è´¨é‡è®¾ç½®

### é¢œè‰²åœ¨ä¸åŒè®¾å¤‡ä¸Šæ˜¾ç¤ºä¸ä¸€è‡´ï¼Ÿ

è¿™æ˜¯æ­£å¸¸çš„è‰²å½©ç®¡ç†å·®å¼‚ã€‚å»ºè®®ï¼š
1. ä½¿ç”¨ sRGB è‰²å½©ç©ºé—´
2. åœ¨å¤šç§è®¾å¤‡ä¸Šæµ‹è¯•
3. é¿å…ä½¿ç”¨æç«¯é¥±å’Œçš„é¢œè‰²

### å¦‚ä½•å¯¼å‡ºå½“å‰å“ç‰Œé…ç½®ï¼Ÿ

```bash
curl https://api.auth9.yourdomain.com/api/v1/tenants/{tenant_id}/branding/export \
  -H "Authorization: Bearer <token>" \
  -o branding-config.json
```

### å¦‚ä½•æ‰¹é‡é…ç½®å¤šä¸ªç§Ÿæˆ·ï¼Ÿ

ä½¿ç”¨å“ç‰Œæ¨¡æ¿åŠŸèƒ½ï¼š

1. åˆ›å»ºå“ç‰Œæ¨¡æ¿
2. åº”ç”¨æ¨¡æ¿åˆ°å¤šä¸ªç§Ÿæˆ·

```bash
curl -X POST https://api.auth9.yourdomain.com/api/v1/branding/templates/{template_id}/apply \
  -H "Authorization: Bearer <token>" \
  -d '{"tenant_ids": ["tenant-1", "tenant-2", "tenant-3"]}'
```

## æ€§èƒ½ä¼˜åŒ–

### èµ„æºåŠ è½½ä¼˜åŒ–

- âœ… Logo ä½¿ç”¨ WebP æ ¼å¼ï¼Œå›é€€åˆ° PNG
- âœ… é€šè¿‡ CDN åˆ†å‘é™æ€èµ„æº
- âœ… è®¾ç½®é•¿æœŸç¼“å­˜ï¼ˆ1å¹´ï¼‰
- âœ… ä½¿ç”¨ HTTP/2 æœåŠ¡å™¨æ¨é€

### CSS ä¼˜åŒ–

- âœ… è‡ªå®šä¹‰ CSS ä¼šè¢«è‡ªåŠ¨å‹ç¼©
- âœ… ç§»é™¤æœªä½¿ç”¨çš„æ ·å¼
- âœ… åˆå¹¶ä¸ºå•ä¸ªæ–‡ä»¶

## å®¡è®¡æ—¥å¿—

æ‰€æœ‰å“ç‰Œé…ç½®å˜æ›´éƒ½ä¼šè®°å½•ï¼š

- Logo ä¸Šä¼ /æ›´æ–°
- é¢œè‰²ä¸»é¢˜ä¿®æ”¹
- è‡ªå®šä¹‰ CSS æ›´æ”¹
- é…ç½®é‡ç½®

å¯ä»¥åœ¨ **Audit Logs** ä¸­æŸ¥è¯¢å’Œåˆ†æã€‚

## ç›¸å…³æ–‡æ¡£

- [Keycloak ä¸»é¢˜å®šåˆ¶](Keycloakä¸»é¢˜å®šåˆ¶.md)
- [é‚®ä»¶æ¨¡æ¿](é‚®ä»¶æ¨¡æ¿.md)
- [å¤šç§Ÿæˆ·ç®¡ç†](å¤šç§Ÿæˆ·ç®¡ç†.md)
- [REST API](REST-API.md#å“ç‰Œé…ç½®-api)

---

**æœ€åæ›´æ–°**: 2026-02-04
