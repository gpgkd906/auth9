# UI/UX 测试 - Users 用户管理页

**模块**: 页面专项
**测试范围**: 用户列表、角色分配对话框、管理按钮适配、间距优化
**场景数**: 6

---

## 场景 1：用户列表行内对齐与点击态

### 目的
验证表格行内文字、Badge 和操作按钮垂直居中，且点击/悬停反馈连贯。

### 预期视觉效果
- **垂直居中**: 用户头像（Avatar）、邮箱文字、状态 Badge 和末尾的“三个点”按钮，其几何中心必须在同一条水平线上。
- **点击态**: 鼠标按下按钮时，背景色应有明显的加深反馈（`active:scale-95` 或 `active:bg-opacity-80`）。
- **按钮高度**: 列表末尾的操作按钮高度应与行高协调，不应撑大整行高度。

---

## 2. 角色管理弹窗的高度一致性

### 目的
验证分配角色时，Checkbox 容器与文字标签的高度匹配。

> **注意**：角色选择界面分两步操作：
> 1. 先通过 **Combobox（下拉框）** 选择目标服务（Service）
> 2. 选择服务后，下方显示该服务下的角色列表，使用 **Checkbox** 组件勾选角色
>
> 验证 Checkbox 布局时需先选择一个有角色的服务。若服务无角色，会显示 "No roles defined for this service"。

### 预期视觉效果
- **容器高度**: 每个角色选择项的容器应有统一的高度（40px，`min-h-[40px]`），确保 Checkbox 在视觉上位于行的正中心。
- **下边距**: 每个角色项之间的间距应为 12px（`gap-3`），确保清晰可分。
- **滚动容器**: 角色列表在 Checkbox 超过容器高度时支持垂直滚动（`max-h-64 overflow-y-auto`）。

---

## 3. 表格头部文字大小与间距

### 目的
验证修复后的 11px uppercase 表头在实际环境中的可读性。

### 预期视觉效果
- **Tracking**: `tracking-wider` (0.04em) 必须生效，防止字母粘连。
- **下边距**: 表头所在行与第一行数据之间应有清晰的边框分割（`border-b`）。

> **验证注意**: `border-b` 样式位于 `<thead>` 元素上（而非单个 `<th>`），同时 `<table>` 的 `divide-y` 也会在 `<thead>` 与 `<tbody>` 之间产生分隔线。检查时应验证 `<thead>` 的 `borderBottomWidth` 而非 `<th>`。

---

## 4. 移动端用户卡片的按钮宽度

### 目的
验证当表格转为卡片时，如”Manage Tenants”和”Edit”按钮的响应式表现。

### 预期视觉效果
- **按钮拉伸**: 按钮应占据卡片底部的 100% 宽度或成对并排占据 50%。
- **字体调整**: 窄屏下按钮文字可适当缩小（如 13px），以容纳较长的文本。

### 验证要点
- 当前实现使用 `grid grid-cols-2 gap-2` + `w-full`，每个按钮占据 50% 宽度（减去间距）。
- **注意**: 自动化测试测量到的具体像素值（如 129px）是 50% 在特定视口宽度下的计算结果，不应视为”固定宽度”。验证时应检查 CSS 类而非绝对像素值。

---

## 5. 空搜索结果下的按钮呈现

### 目的
验证搜索不到用户时，”Clear Filter”按钮的视觉样式。

### 预期视觉效果
- **样式**: 应使用 `secondary` 或 `ghost` 变体，避免抢走主操作视觉。
- **间距**: 提示语与清除按钮之间应有 16px 的垂直间距（通过 `mt-4` 实现）。

### 验证要点
- 间距通过 `mt-4`（margin-top: 1rem = 16px）实现，在 `flex flex-col` 容器中不会发生 margin 折叠。
- 自动化测试应检查 `margin-top` computed style 而非 `gap` 或 `padding` 属性。

---

## 6. 桌面端列表宽度铺满容器

### 目的
验证桌面端用户列表表格在卡片容器内横向铺满，不出现仅按内容宽度收缩导致的右侧留白或头部背景截断。

### 预期视觉效果
- **容器占满**: 表格使用 `w-full min-w-[600px]` 样式，宽屏下铺满容器，窄屏下保持最小宽度并通过 `overflow-x-auto` 横向滚动。
- **头部一致**: 表头背景、分隔线与数据行宽度保持一致，不出现”表头只覆盖左半区域”的视觉断层。

### 验证要点
- 检查 `<table>` 元素应同时包含 `w-full` 和 `min-w-[600px]` 类。
- 容器与表格之间的微小像素差（1-2px）通常由边框宽度引起，属正常现象。
